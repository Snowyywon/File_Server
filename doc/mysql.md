### 分库分表
垂直分表：
将表的字段分割开来，然后通过某个字段给关联起来

水平分表：
所有用户的信息平分到n个表里面，字段信息是相
同的
做法: 
假设分成256张文件表，按文件sha1值后两位来切分，则以 : tbl_${file_sha1}[:-2]的规则到对应表进行存取

优点 : hash非常简单
缺点 : 但是后续拓展会比较麻烦，旧的文件需要额外的一个hash值


相同文件冲突处理
1. 运行不同用户同时上传同一个文件
2. 先完成上传的先入库
3. 后上传的只更新用户文件表,并删除已上传的文件